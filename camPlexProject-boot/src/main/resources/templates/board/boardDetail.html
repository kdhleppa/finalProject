<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자유게시판</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Asap:ital,wght@1,600&family=Exo+2:wght@600&family=Exo:wght@700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,600;0,900;1,200&family=Qwitcher+Grypen:wght@400;700&family=Source+Code+Pro:ital,wght@1,900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/92fbd4b351.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/css/boardDetail.css">
</head>
<body>
    
    <main>

        <header class="topBar">

            <div class="topMenu">
        
                <div class="leftOfTopMenu">
                    <a href="#">COMMUNITY</a>
                    <a href="#">CONTACT</a>
                    <a href="#">ABOUT US</a>
                </div>
        
                <div class="rightOfTopMenu">
                    <a href="#">TOP</a>
                </div>
                
            </div>
            
            <a class="mainTitle">C A M P L E X </a>
            
            <div class="bottomMenu">
                <a href="#">CAMPING</a>
                <a href="#">RENTAL</a>
                <a href="#">BOARD</a>
                <a href="#">ORDER</a>
            </div>
        
        </header>

        <ul class="boardClass">
            <li id="allboard">
                <a href="#">자유</a>
            </li>

            <p>|</p>

            <li id="board">
                <a href="#">질문</a>
            </li>

            <p>|</p>

            <li id="checkboard">
                <a href="#">정보공유</a>
            </li>

            <p>|</p>

            <li id="eventboard">
                <a href="#">CEO</a>
            </li>
        </ul>

        <section class="boardTitle">
            <p>자유게시판</p>

        </section>

        <hr style="margin-top: 20px; margin-left: 8%; width: 84%; margin-right: 40%;">

        <section class="boardDetail">
            
            <div class="boardDeLeft">
            </div>

            <div class="boardDeTitle">
                <p>결제 시스템 개편 건의</p>
                <p id="createDate">2023.11.08</p>
                <hr style="margin-top: 20px; width: 65rem;">
                
                <div class="boardContent">

                    <!-- fn:length(board.imageList) : imageList의 길이 반환 -->
                <!-- 일반 이미지가 있는 경우 -->
                <c:if test="${fn:length(board.imageList) > start}">
                
                    <!-- 업로드 이미지 영역 -->
                    <h5>업로드 이미지</h5>
                    <div class="img-box">
                    
                        <c:forEach var="i" begin="${start}" end="${fn:length(board.imageList) - 1}">
                            <div class="boardImg">
                            
                                <c:set var="path" 
                                    value="${board.imageList[i].imagePath}${board.imageList[i].imageReName}" />
                                
                                
                                <img src="${path}">
                                <a href="${path}" download="${board.imageList[i].imageOriginal}">다운로드</a>                
                            </div>
                        </c:forEach>
                        
                    
                    </div>
                
                </c:if>

                    <br>
                    <p>카드결제 종류 추가<br>
                    결제 현금 영수증 발행<br>
                    결제 안내 페이지 깔끔하게<br><br>

                    건의합니다</p>
                </div>
            </div>

            <div class="boardDeRight">
                <div>
                    <!-- <c:choose>
                    	<%-- 프로필 이미지가 없을 경우 기본 이미지 출력 --%>
                    	<c:when test="${empty board.profileImage}">
		                    <img src="/resources/images/user.png">
                    	</c:when>
                    	
                    	<%-- 프로필 이미지가 있을 경우 등록한 이미지 출력 --%>
                    	<c:otherwise>
                    		<img src="${board.profileImage}" />
                    	</c:otherwise>
                    
                    </c:choose> -->
                    <p>프로필</p><br><br>

                    <!-- <span>${board.memberNickname}</span>-->
                    <p>닉네임</p><br><br>

                    <!-- 좋아요 하트 -->
                    <!-- <span class="like-area">
                    
                    	<%-- 좋아요 누른적이 없다, 로그인 하지 않았다 --%>
                    	<c:if test="${empty likeCheck}">
	                        <i class="fa-regular fa-heart" id="boardLike"></i>
                    	</c:if>
                    
                    	<%-- 좋아요 누른적이 있다 --%>
                    	<c:if test="${not empty likeCheck}">
	                        <i class="fa-solid fa-heart" id="boardLike"></i>
                    	</c:if>
                    

                        <span>${board.likeCount}</span>
                    </span> -->
                    <p>좋아요</p><br><br>
                    <p>조회수</p>
                </div>

                <div>
                    <button id="listBtn">목록으로</button>
                </div>

            </div>

        </section>

        <hr style="margin-top: 20px; margin-left: 8%; width: 84%; margin-right: 40%;">

        <div class="btnArea">

            <!-- 로그인한 회원과 게시글 작성자 번호가 같은 경우 -->
            <c:if test="${loginMember.memberNo == board.memberNo}">
                <button id="deleteBtn">삭제하기</button>                     
            </c:if>

            <c:if test="${loginMember.memberNo == board.memberNo}">
                <button id="updateBtn">수정하기</button>                     
            </c:if>

        </div>

        <div id="commentArea">
            <!-- 댓글 목록 -->
            <div class="comment-list-area">
                
                <ul id="commentList">
                
                    <c:forEach items="${board.commentList}" var="comment">
                        <!-- 부모/자식 댓글 -->
                        <li class="comment-row <c:if test='${comment.parentNo != 0}'>child-comment</c:if>">
                            
                            <p class="comment-writer">
            
                                <!-- 프로필 이미지 -->
                                <c:if test="${empty comment.profileImage}">
                                    <img src="/resources/images/user.png">
                                </c:if>
                                
                                <c:if test="${not empty comment.profileImage}">
                                    <img src="${comment.profileImage}">
                                </c:if>
                                
                                <!-- 닉네임 -->
                                <span>닉네임</span>
                                
                                <!-- 작성일 -->
                                <span class="comment-date">댓글작성날짜</span>
                            </p>
                            
                            <!-- 댓글 내용 -->
                            <p class="comment-content">댓글내용</p>
            
            
                            <!-- 버튼 영역 -->
                            <div class="comment-btn-area">
                                <button onclick="showInsertComment(${comment.commentNo}, this)">답글</button>   
                                    
                                <!-- 로그인 회원과 댓글 작성자가 같은 경우 -->  
                                <c:if test="${loginMember.memberNo == comment.memberNo}">
                                    <button onclick="showUpdateComment(${comment.commentNo}, this)">수정</button>     
                                    <button onclick="deleteComment(${comment.commentNo})">삭제</button>
                                </c:if>
                                
                            </div>
                        </li>
                    
                    </c:forEach>
        
                </ul>
            </div>
            
        
            <!-- 댓글 작성 부분 -->
            <div class="comment-write-area">
                <textarea id="commentContent">댓글 내용 입력</textarea>
                <button id="addComment">
                    댓글등록
                </button>
            
            </div>
        
    </main>

    <footer class="bottomBar">
        <a class="footerTitle">CAMPLEX</a>

        <div class="footerMenu">
            <a href="#">ABOUT US</a> <p class="menuDiv">|</p>
            <a href="#">AGREEMENT</a> <p class="menuDiv">|</p>
            <a href="#">GUIDE</a>
        </div>

        <div class="footerContent">
            <p>회사명 캠플렉스 주식회사</p>
            <p>주소 서울특별시 중구 남대문로 120</p>
            <p>본 사이트내 모든 이미지 및 컨텐츠 등은 저작권법 제4조의 의한 저작물로써</p> 
            <p>소유권은 CAMPLEX 주식회사 에게 있으며, 무단 도용시 법적인 제재를 받을 수 있습니다.</p>
        </div>

    </footer>


</body>
</html>